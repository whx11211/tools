<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>常用工具——编码工具</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container bs-docs-container">
    <div class="col-xs-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
		<h1 id="overview" class="page-header">编码工具</h1>
		<h3>请求信息</h3>
		<form class="bs-example form-horizontal form-group" style="border:1px solid #ddd;border-radius: 4px 4px 0 0;padding: 25px 10px 0;">
		  <div class="form-group">
			<label for="inputEmail3" class="col-sm-2 control-label">请求地址</label>
			<div class="col-sm-10">
			  <input id="url" class="form-control form-group" type="text" placeholder="请求地址">
			</div>
		  </div>
		  <div class="form-group">
			<label for="inputEmail3" class="col-sm-2 control-label">请求参数</label>
			<div class="col-sm-10">
			  <textarea id="params" class="form-control form-group" rows="10" placeholder="json格式"></textarea>
			</div>
		  </div>
		  <div class="form-group">
			<label for="inputEmail3" class="col-sm-2 control-label">请求类型</label>
			<div class="col-sm-10">
			  <select id="type" class="form-control form-group" type="text">
				<option value="get">GET</option>
				<option value="post">POST</option>
			  </select>
			</div>
		  </div>
		</form>
		
		<div class="form-group">
		  <button id="btn" class="btn btn-default">请求</button>
		</div>
		<h3>输出</h3>
		<pre id="res" class="form-group" style="min-height:100px;" contenteditable="true"></pre>
	</div>
  </div>
</body>

<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
	
	$('#btn').on('click', function () {
		try{
			eval('var params='+$('#params').val());
		}
		catch (e) {
			alert('param error:'+e);
		}
		
		params.url = $('#url').val();
		params.request_type = $('#type').val();
		
		$('#res').html('请求中……');
		$.post('php/?type=curl', params, function(res){
			$('#res').html(res);
		});
	});
	
	
</script>
</html>
